# Веб-приложение
## Стандартный алгоритм работы приложения
### Авторизация и регистрация
Страница с кнопками: авторизация по номеру профсоюзного билета, авторизация по номеру студенческого билета, авторизация ВК
* Авторизация по номеру профсоюзного билета
    * Поля ввода: номер профсоюзного билета, ФИО
    * Запросить проверку корректности номера профсоюзного билета и ФИО на сервер.
    * "Мы не нашли вас в списке профсоюза, проверьте данные и повторите снова", если попытка не удалась в первый раз.
    * "Мы не смогли проверить ваши данные, вы можете войти и загрузить документ, однако печать будет разрешена только после подтверждение учетной записи в профкоме студентов."
* Авторизация по номеру студенческого билета
    * Поля ввода: номер студенческого билета, ФИО
    * Запросить проверку корректности номера студенческого билета и ФИО на сервер.
    * "Мы не смогли проверить ваши данные, проверьте данные и повторите снова."
    * "Мы не смогли проверить ваши данные, вы можете войти и загрузить документ, однако печать будет разрешена только после подтверждение учетной записи в профкоме."
* Авторизация по ВКонтакте 
    1. Кнопка входа через вконтакте
        * Получить из ВК фамилию, имя и дату рождения, попробовать запросить у сервера номер профсоюзного билета по этим данным. Если получены - завершить регистрацию.
    2. Поле выбора или кнопки: являюсь членом просфоюза/не являюсь членом просфоюза
    3. Номер студенческого/профсоюзного билета (в зависимости от предыдущего выбора). Запросить проверку корректности номера студенческого/профсоюзного билета, фамилии, имени и даты рождения на сервер. Если получены - завершить регистрацию.
    4. ФИО. Запросить проверку корректности номера студенческого/профсоюзного билета и ФИО на сервер. Если получены - завершить регистрацию.
    5. "Мы не смогли проверить ваши данные, проверьте данные и повторите снова.", если попытка не удалась в первый раз.
    6. "Мы не смогли проверить ваши данные, вы можете войти и загрузить документ, однако печать будет разрешена только после подтверждение учетной записи в профкоме студентов."


### Личный кабинет
В зависимости от типа пользователя различные страницы видны:
* Пользователь: страница печати и история, настройки
* Администратор: страница печати и история, статистика, списки предварительно зарегистрированных пользователей, настройки
* Суперадминистратор: страница печати и история, статистика, списки предварительно зарегистрированных пользователей, настройки пользователей, настройки

Если аккаунт человека не подтвержден, показывать вверху всех страниц уведомление с предложением загрузить файл в настройках.


#### Страница печати и история
Сверху кнопка "Загрузить", при ее нажатии открывается диалоговое окно с выбором файла PDF на компьютере. 

После загрузки появляется диалог с возможностью выбрать страницы печати (если страниц печати больше 20, то требовать указать диапазон печати вручную), галочки "двусторонняя печать" и выбором количества страниц на лист бумаги (1, 2, 4, 8 и что там еще принтеры умеют). Кнопка "Печать". 

Нажатие на кнопку "Печать" отправляет файл на сервер и показывает пин-код, пришедший в ответ от сервера.

Ниже располагается список ранее загруженных документов (получается запросом к серверу) с указанием:
* Название документа
* Диапазон страниц для печати 
* Пин-код или надпись "недоступно для печати"


#### Статистика
Вверху страницы 2 поля ввода с датами начала и конца периода вывода статистики 
и кнопки с прдустановленными значениями: за все время, за год, за месяц, за 
неделю. 

Ниже страница разделена на 2 части: 
* Количество напечатанных страниц, количество напечатанных документов,  количество повторных печатей (загруженных на печать дважды и более),  количество нереализованных печатей (загруженных на сервер и не отправленных на  печать документов), объем занимаемой документами памяти, количество  пользователей за произвольный промежуток времени (вся информация получается с сервера); 
* Выбор человека: поле ввода с подсказками фамилий или номеров билетов из  списка с сервера. Далее для выбранного человека: Количество напечатанных  страниц, количество напечатанных документов,   количество повторных печатей  (отправленных на печать дважды и более), количество нереализованных печатей  (загруженных на сервер и не отправленных на печать документов), объем  занимаемой документами памяти по людям с обозначением типа авторизации  (профсоюзный билет, студенческий билет) за произвольный промежуток времени (вся информация получается с сервера). 


<!-- #### Списки предварительно зарегистрированных пользователей 
Отображает список пользователей, которым разрешен вход без дополнительной проверки. 

Позволяет добавлять пользователя кнопкой "Добавить", выгрузить пользователей или загрузить их из файла CSV.  -->


<!-- #### Настройки пользователей -->


#### Настройки
Позволяет добавить номер профсоюзного и студенческого билетов, если их нет, и полностью удалить данные пользователя. Загрузить фотографию студенческого билета для проверки аккаунта.


* Варианты запросов к серверу и его ответы искать в спецификации к серверу.